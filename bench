#!/usr/bin/env bash
set -Eeuo pipefail
cargo build --release
echo "Encoding standard (ASCII)"
(for x in $(seq 0 1000); do cat 1-original.txt; done) | pv | taskset -c 0 ./target/release/ripmors -e standard >/dev/null
echo "Encoding standard (Unicode)"
(for x in $(seq 0 10000); do cat 4-unicode.txt; done) | pv | taskset -c 0 ./target/release/ripmors -e standard >/dev/null
echo "Encoding ASCII"
(for x in $(seq 0 1000); do cat 1-original.txt; done) | pv | taskset -c 0 ./target/release/ripmors -e ascii >/dev/null
echo "Decoding"
(for x in $(seq 0 1000); do cat 2-encoded.txt; done) | pv | taskset -c 0 ./target/release/ripmors -d >/dev/null
